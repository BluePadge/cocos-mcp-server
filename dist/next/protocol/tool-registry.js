"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NextToolRegistry = void 0;
class NextToolRegistry {
    constructor(tools, matrix) {
        this.tools = tools;
        this.matrix = matrix;
    }
    listTools() {
        return this.tools
            .filter((tool) => this.isToolAvailable(tool))
            .map((tool) => ({
            name: tool.name,
            description: tool.description,
            inputSchema: tool.inputSchema,
            _meta: {
                layer: tool.layer,
                category: tool.category,
                safety: this.getSafety(tool),
                idempotent: this.isIdempotent(tool),
                supportsDryRun: false
            }
        }));
    }
    getTool(name) {
        const tool = this.tools.find((item) => item.name === name);
        if (!tool) {
            return null;
        }
        return this.isToolAvailable(tool) ? tool : null;
    }
    getManifest(name) {
        const tool = this.tools.find((item) => item.name === name);
        if (!tool) {
            return null;
        }
        return {
            name: tool.name,
            description: tool.description,
            inputSchema: tool.inputSchema,
            outputSchema: {
                type: 'object',
                properties: {
                    success: { type: 'boolean' },
                    data: { type: ['object', 'array', 'string', 'number', 'boolean', 'null'] },
                    error: {
                        type: 'object',
                        properties: {
                            code: { type: 'string' },
                            message: { type: 'string' },
                            detail: { type: 'string' }
                        }
                    }
                },
                required: ['success']
            },
            requiredCapabilities: [...tool.requiredCapabilities],
            _meta: {
                layer: tool.layer,
                category: tool.category,
                idempotent: this.isIdempotent(tool),
                safety: this.getSafety(tool),
                supportsDryRun: false
            }
        };
    }
    getCapabilityMatrix() {
        return this.matrix;
    }
    isToolAvailable(tool) {
        return tool.requiredCapabilities.every((key) => { var _a; return ((_a = this.matrix.byKey[key]) === null || _a === void 0 ? void 0 : _a.available) === true; });
    }
    isIdempotent(tool) {
        const writeKeywords = ['create', 'delete', 'remove', 'copy', 'move', 'set', 'open', 'save', 'add', 'duplicate', 'parent'];
        return !writeKeywords.some((keyword) => tool.name.includes(keyword));
    }
    getSafety(tool) {
        if (tool.name.includes('delete') || tool.name.includes('remove')) {
            return 'destructive';
        }
        if (tool.name.includes('create')
            || tool.name.includes('copy')
            || tool.name.includes('set')
            || tool.name.includes('open')
            || tool.name.includes('save')
            || tool.name.includes('duplicate')
            || tool.name.includes('parent')
            || tool.name.includes('add')) {
            return 'cautious';
        }
        return 'safe';
    }
}
exports.NextToolRegistry = NextToolRegistry;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9vbC1yZWdpc3RyeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NvdXJjZS9uZXh0L3Byb3RvY29sL3Rvb2wtcmVnaXN0cnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBaUJBLE1BQWEsZ0JBQWdCO0lBSXpCLFlBQVksS0FBMkIsRUFBRSxNQUF3QjtRQUM3RCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRU0sU0FBUztRQUNaLE9BQU8sSUFBSSxDQUFDLEtBQUs7YUFDWixNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDNUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ1osSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsV0FBVyxFQUFFLElBQUksQ0FBQyxXQUFXO1lBQzdCLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVztZQUM3QixLQUFLLEVBQUU7Z0JBQ0gsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO2dCQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7Z0JBQ3ZCLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztnQkFDNUIsVUFBVSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO2dCQUNuQyxjQUFjLEVBQUUsS0FBSzthQUN4QjtTQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ1osQ0FBQztJQUVNLE9BQU8sQ0FBQyxJQUFZO1FBQ3ZCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxJQUFJ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T0FBTyxhQUFhLENBQUM7UUFDekIsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2VBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztlQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7ZUFDekIsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO2VBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztlQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUM7ZUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2VBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDL0IsT0FBTyxVQUFVLENBQUM7UUFDdEIsQ0FBQztRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7Q0FDSjtBQXBHRCw0Q0FvR0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXBhYmlsaXR5TWF0cml4LCBOZXh0VG9vbERlZmluaXRpb24gfSBmcm9tICcuLi9tb2RlbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xNYW5pZmVzdCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgaW5wdXRTY2hlbWE6IGFueTtcbiAgICBvdXRwdXRTY2hlbWE6IGFueTtcbiAgICByZXF1aXJlZENhcGFiaWxpdGllczogc3RyaW5nW107XG4gICAgX21ldGE6IHtcbiAgICAgICAgbGF5ZXI6IHN0cmluZztcbiAgICAgICAgY2F0ZWdvcnk6IHN0cmluZztcbiAgICAgICAgaWRlbXBvdGVudDogYm9vbGVhbjtcbiAgICAgICAgc2FmZXR5OiAnc2FmZScgfCAnY2F1dGlvdXMnIHwgJ2Rlc3RydWN0aXZlJztcbiAgICAgICAgc3VwcG9ydHNEcnlSdW46IGJvb2xlYW47XG4gICAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIE5leHRUb29sUmVnaXN0cnkge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgdG9vbHM6IE5leHRUb29sRGVmaW5pdGlvbltdO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbWF0cml4OiBDYXBhYmlsaXR5TWF0cml4O1xuXG4gICAgY29uc3RydWN0b3IodG9vbHM6IE5leHRUb29sRGVmaW5pdGlvbltdLCBtYXRyaXg6IENhcGFiaWxpdHlNYXRyaXgpIHtcbiAgICAgICAgdGhpcy50b29scyA9IHRvb2xzO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcbiAgICB9XG5cbiAgICBwdWJsaWMgbGlzdFRvb2xzKCk6IEFycmF5PHsgbmFtZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nOyBpbnB1dFNjaGVtYTogYW55OyBfbWV0YTogYW55IH0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHNcbiAgICAgICAgICAgIC5maWx0ZXIoKHRvb2wpID0+IHRoaXMuaXNUb29sQXZhaWxhYmxlKHRvb2wpKVxuICAgICAgICAgICAgLm1hcCgodG9vbCkgPT4gKHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgaW5wdXRTY2hlbWE6IHRvb2wuaW5wdXRTY2hlbWEsXG4gICAgICAgICAgICAgICAgX21ldGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IHRvb2wubGF5ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB0b29sLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBzYWZldHk6IHRoaXMuZ2V0U2FmZXR5KHRvb2wpLFxuICAgICAgICAgICAgICAgICAgICBpZGVtcG90ZW50OiB0aGlzLmlzSWRlbXBvdGVudCh0b29sKSxcbiAgICAgICAgICAgICAgICAgICAgc3VwcG9ydHNEcnlSdW46IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUb29sKG5hbWU6IHN0cmluZyk6IE5leHRUb29sRGVmaW5pdGlvbiB8IG51bGwge1xuICAgICAgICBjb25zdCB0b29sID0gdGhpcy50b29scy5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICBpZiAoIXRvb2wpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmlzVG9vbEF2YWlsYWJsZSh0b29sKSA/IHRvb2wgOiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRNYW5pZmVzdChuYW1lOiBzdHJpbmcpOiBUb29sTWFuaWZlc3QgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdG9vbCA9IHRoaXMudG9vbHMuZmluZCgoaXRlbSkgPT4gaXRlbS5uYW1lID09PSBuYW1lKTtcbiAgICAgICAgaWYgKCF0b29sKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiB0b29sLm5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGlucHV0U2NoZW1hOiB0b29sLmlucHV0U2NoZW1hLFxuICAgICAgICAgICAgb3V0cHV0U2NoZW1hOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB7IHR5cGU6ICdib29sZWFuJyB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHR5cGU6IFsnb2JqZWN0JywgJ2FycmF5JywgJ3N0cmluZycsICdudW1iZXInLCAnYm9vbGVhbicsICdudWxsJ10gfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdzdHJpbmcnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7IHR5cGU6ICdzdHJpbmcnIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFsnc3VjY2VzcyddXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWRDYXBhYmlsaXRpZXM6IFsuLi50b29sLnJlcXVpcmVkQ2FwYWJpbGl0aWVzXSxcbiAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgbGF5ZXI6IHRvb2wubGF5ZXIsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRvb2wuY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgaWRlbXBvdGVudDogdGhpcy5pc0lkZW1wb3RlbnQodG9vbCksXG4gICAgICAgICAgICAgICAgc2FmZXR5OiB0aGlzLmdldFNhZmV0eSh0b29sKSxcbiAgICAgICAgICAgICAgICBzdXBwb3J0c0RyeVJ1bjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0Q2FwYWJpbGl0eU1hdHJpeCgpOiBDYXBhYmlsaXR5TWF0cml4IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4O1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNUb29sQXZhaWxhYmxlKHRvb2w6IE5leHRUb29sRGVmaW5pdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdG9vbC5yZXF1aXJlZENhcGFiaWxpdGllcy5ldmVyeSgoa2V5KSA9PiB0aGlzLm1hdHJpeC5ieUtleVtrZXldPy5hdmFpbGFibGUgPT09IHRydWUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNJZGVtcG90ZW50KHRvb2w6IE5leHRUb29sRGVmaW5pdGlvbik6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB3cml0ZUtleXdvcmRzID0gWydjcmVhdGUnLCAnZGVsZXRlJywgJ3JlbW92ZScsICdjb3B5JywgJ21vdmUnLCAnc2V0JywgJ29wZW4nLCAnc2F2ZScsICdhZGQnLCAnZHVwbGljYXRlJywgJ3BhcmVudCddO1xuICAgICAgICByZXR1cm4gIXdyaXRlS2V5d29yZHMuc29tZSgoa2V5d29yZCkgPT4gdG9vbC5uYW1lLmluY2x1ZGVzKGtleXdvcmQpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNhZmV0eSh0b29sOiBOZXh0VG9vbERlZmluaXRpb24pOiAnc2FmZScgfCAnY2F1dGlvdXMnIHwgJ2Rlc3RydWN0aXZlJyB7XG4gICAgICAgIGlmICh0b29sLm5hbWUuaW5jbHVkZXMoJ2RlbGV0ZScpIHx8IHRvb2wubmFtZS5pbmNsdWRlcygncmVtb3ZlJykpIHtcbiAgICAgICAgICAgIHJldHVybiAnZGVzdHJ1Y3RpdmUnO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLm5hbWUuaW5jbHVkZXMoJ2NyZWF0ZScpXG4gICAgICAgICAgICB8fCB0b29sLm5hbWUuaW5jbHVkZXMoJ2NvcHknKVxuICAgICAgICAgICAgfHwgdG9vbC5uYW1lLmluY2x1ZGVzKCdzZXQnKVxuICAgICAgICAgICAgfHwgdG9vbC5uYW1lLmluY2x1ZGVzKCdvcGVuJylcbiAgICAgICAgICAgIHx8IHRvb2wubmFtZS5pbmNsdWRlcygnc2F2ZScpXG4gICAgICAgICAgICB8fCB0b29sLm5hbWUuaW5jbHVkZXMoJ2R1cGxpY2F0ZScpXG4gICAgICAgICAgICB8fCB0b29sLm5hbWUuaW5jbHVkZXMoJ3BhcmVudCcpXG4gICAgICAgICAgICB8fCB0b29sLm5hbWUuaW5jbHVkZXMoJ2FkZCcpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2NhdXRpb3VzJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ3NhZmUnO1xuICAgIH1cbn1cbiJdfQ==